{% extends "layout.html" %}

{% block content %}
<!-- Carousel (unchanged) -->
<div class="container-fluid p-0">
    <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{{ url_for('static', filename='images/carusel1.jpeg') }}" class="d-block w-100" alt="carousel image">
                <div class="carousel-caption">
                    <h1>Socotra doesn’t pretend to be wild—it just is.</h1>
                    <a href="/tour" class="carousel-book-btn mt-3">Book Now</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{{ url_for('static', filename='images/carusel2.jpeg') }}" class="d-block w-100" alt="carousel image">
                <div class="carousel-caption">
                    <h1>This island doesn’t care who you are.“ But it might change who you become</h1>
                    <a href="/tour" class="carousel-book-btn mt-3">Book Now</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{{ url_for('static', filename='images/carusel3.jpeg') }}" class="d-block w-100" alt="carousel image">
                <div class="carousel-caption">
                    <h1>Travel with a team that respects the island and the people who call it home.</h1>
                    <a href="/tour" class="carousel-book-btn mt-3">Book Now</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{{ url_for('static', filename='images/carusel4.jpeg') }}" class="d-block w-100" alt="carousel image">
                <div class="carousel-caption">
                    <h1>Book your tour now and join us for the adventure of a lifetime</h1>
                    <a href="/tour" class="carousel-book-btn mt-3">Book Now</a>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>

<!-- Redesigned Tour Section -->
<section class="tours-section">
    <h2 class="section-title">Choose Your Adventure</h2>
    <div class="tour-card-grid">
        <div class="tour-square-card">
            <h5>The Photographer</h5>
            <p>For the spotlight seekers and camera lovers.</p>
            <a href="/tour/photographer" class="tour-card-btn">Learn More</a>
        </div>
        <div class="tour-square-card">
            <h5>The Explorer</h5>
            <p>For thrill seekers chasing the unknown.</p>
            <a href="/tour/explorer" class="tour-card-btn">Learn More</a>
        </div>
        <div class="tour-square-card">
            <h5>Beach Lover</h5>
            <p>For sun worshipers and chill vibes.</p>
            <a href="/tour/beach-potato" class="tour-card-btn">Learn More</a>
        </div>
        <div class="tour-square-card">
            <h5>The VIP</h5>
            <p>For luxury adventurers with a plan.</p>
            <a href="/tour/vip" class="tour-card-btn">Learn More</a>
        </div>
    </div>
</section>


<!-- Experience Highlights Section -->
<section class="experience-highlights">
    <h2 class="section-title">Experience Socotra</h2>
    <div class="highlight-card-grid">
        <div class="highlight-card">
            <img src="{{ url_for('static', filename='images/isolation-home.jpeg') }}" alt="Island Life">
            <div class="highlight-content">
                <h5>UNMATCHED ISOLATION</h5>
                <p class="caption">Socotra: Where Earth Still Breathes</p>
                <div class="hover-reveal">

                    Step off the map and into a world unlike anywhere else. 
                    Socotra Island travel is not about luxury in things — it's about the luxury of silence, space, and solitude.
                    No crowds. No chaos. Just you, the wind, and a world untouched by time
                    <br>
                    <br>
                </div>
            </div>
        </div>

        <div class="highlight-card">
            <img src="{{ url_for('static', filename='images/nature-home.jpeg') }}" alt="Wild Nature">
            <div class="highlight-content">
                <h5>NATURE UNTOUCHED</h5>
                <p class="caption">Discover Earth’s Last Natural Secret</p>
                <div class="hover-reveal">
                 Swim in hidden wadis, climb untouched cliffs, and hike into Dragon Blod Tree forests — all in one island.
                 Socotra’s untouched nature is more than a destination, it’s a revelation where every corner feels like a first discovery.
                 <br>
                 <br>
                </div>
            </div>
        </div>

        <div class="highlight-card">
            <img src="{{ url_for('static', filename='images/culture-home.jpeg') }}" alt="Culture">
            <div class="highlight-content">
                <h5>IMMERSIVE CULTURE</h5>
                <p class="caption">Live the Island, Not Just Visit It</p>
                <div class="hover-reveal">
                    Meet the resilient people of Socotra — fishermen, nomads, storytellers.
                    Learn traditional ways of living, share meals under starlit skies, and feel what it means to truly belong, even as a guest.
                    Here, culture isn't curated — it’s lived. Socotra is a journey into deep authenticity
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Upcoming Departures Section (Dynamic Table with Unique Classes) -->
    <section class="exp-table-section">
        <div class="exp-table-header">
            <h2 class="exp-table-title">Upcoming Group Tour Departures</h2>
            <p class="exp-table-subtitle">
                2025 / 2026 Season – 8 Days / 7 Nights Option  
                <br>
                <strong>Limited spaces available:</strong> Book early to secure your spot!
            </p>
        </div>

        <div class="exp-table-wrapper">
        <table class="exp-table">
            <thead>
                <tr>
                    <th>Tour</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for dep in departures %}
                <tr>
                    <td>{{ dep.tour.title }}</td>  <!-- Accessing Tour title through dep.tour -->
                    <td>
                        <a href="{{ url_for('tour') }}?departure_id={{ dep.id }}#booking-form-tour">
                            {{ dep.date.strftime('%B %d, %Y') }}
                        </a>
                    </td>
                    <!-- Removed the spots display from here -->
                    <td>
                        {% if dep.spots_left > 0 %}
                        <a href="{{ url_for('tour') }}?departure_id={{ dep.id }}#booking-form-tour">
                            <button class="exp-book-btn">Book</button>
                        </a>
                        {% else %}
                        <span class="exp-full-label">Fully Booked</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


    <div class="exp-cancel-box">
      <h3 class="exp-cancel-title">Cancellation Policy</h3>
      <p class="exp-cancel-text">
        In case you cannot travel and wish to cancel, we can help you get a refund on your flight.
        The WTS tour deposit is non‑refundable. Emirates Aviation Services’ policy:
        Ticket refund must be requested 8 days before departure (AED 400 penalty).  
        Within 8 days of departure, modifications/cancellations are not allowed.
      </p>
    </div>
  </section>





{% endblock %}
